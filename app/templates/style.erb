<%

var round = Math.round, ceil = Math.ceil;

var lineHeight  = gheight,
    cellHeight  = gheight - 1,
    pageHeight  = grid * gheight + 1,
    normal      = gwidth - 4,
    xxsmall     = round(normal / 2),
    xsmall      = round(normal / 1.8),
    smaller     = round(normal / 1.5),
    small       = round(normal / 1.2),
    large       = round(normal * 1.2),
    larger      = round(normal * 1.5),
    xlarge      = round(normal * 1.8),
    xxlarge     = round(normal * 2);
%>

/* reset.css */

* {
    margin:0;padding:0;border:0;
}

body, div, span, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, code, del, dfn, em, img, q, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, dialog, figure, footer, header, hgroup, nav, section {
    vertical-align: baseline;
}

article, aside, dialog, figure, footer, header, hgroup, nav, section {
    font-weight:inherit;font-style:inherit;font-size:100%;font-family:inherit;display:block;
}

body {
    line-height: <%= gheight %>px;background:white;
}

table {
    border-collapse:collapse;border-spacing:0;
}

caption, th, td {
    text-align:left;font-weight:normal;float:none !important;
}

table, th, td {
    vertical-align:middle;
}

table.wikitable {
margin: 1em 1em 1em 0;
background: #F9F9F9;
border: 1px #AAA solid;
border-collapse: collapse;
}

blockquote:before, blockquote:after, q:before, q:after {
    content:'';
}

blockquote, q {
    quotes:"" "";
}

a img {
    border:none;
}

:focus {
    outline:0;
}


/* general styles */

body {
    background-color: black;
    color: black;
    overflow: hidden;
    font-size:  <%= normal %>px;
}

sup {
    font-size: <%= xxsmall %>px;
    line-height: <%= gheight / 2 %>px;
}

/* layout styles */

div#hposition {
    position:absolute;
    top:55%;
    left:50%;
    overflow:show;
}

div#vposition {
    position:absolute;
    top:-<%= round(height/2) %>px;
    left:-<%= round(width/2) %>px;
}

div#leftbar {
    position:absolute;
    top:0px;
    left:-<%= 4 * normal %>px;
    width: <%= 4 * normal %>px;
    text-align: left;
    background-color: #222222;
    color: white;
}

div#rightbar {
    position:absolute;
    top:0px;
    left: <%= width %>px;
    width: <%= 4 * normal %>px;
    text-align: right;
    background-color: #222222;
    color: white;
}

div#lefttoolbar {
    position:absolute;
    top: <%= height - 12 * gheight %>px;
    left:-<%= 4 * normal %>px;
    width: <%= 4 * normal %>px;
    text-align: left;
    background-color: #222222;
    color: white;
}

div#righttoolbar {
    position:absolute;
    top: <%= height - 12 * gheight %>px;
    left: <%= width %>px;
    width: <%= 4 * normal %>px;
    text-align: right;
    background-color: #222222;
    color: white;
}

div#doublepage {
    position: absolute;
    width: <%= width %>px;
    height: <%= height %>px;
    overflow: hidden;
    background-color: #222222;
}

div#leftpage {
    position: relative;
    width: 48%;
    height: 91%;
    margin-left: 1%;
    margin-right: 1%;
    margin-top: 1.5%;
    margin-bottom: 2%;
    float: left;
    overflow: hidden;
    background-color: white;
}

div#rightpage {
    position: relative;
    width: 48%;
    height: 91%;
    margin-left: 1%;
    margin-right: 1%;
    margin-top: 1.5%;
    margin-bottom: 2%;
    float: right;
    overflow: hidden;
    background-color: white;
}

div#leftview {
    position: relative;
    width: 96%;
    height: <%= pageHeight %>px;
    margin-left: 2%;
    margin-right: 2%;
    margin-top: 2%;
    margin-bottom: 2%;
    overflow: hidden;
}

div#rightview {
    position: relative;
    width: 96%;
    height: <%=  pageHeight %>px;
    margin-left: 2%;
    margin-right: 2%;
    margin-top: 2%;
    margin-bottom: 2%;
    overflow: hidden;
}

/* grid styles */

div#leftgrid {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: lightgray;
    line-height: <%= cellHeight %>px;
}

div#rightgrid {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: lightgray;
    line-height: <%= cellHeight %>px;
}

div#leftgrid table {
    width: 100%;
    height: 100%;
    border-spacing: 0;
    border-collapse: collapse;
}

div#rightgrid table {
    width: 100%;
    height: 100%;
    border-spacing: 0;
    border-collapse: collapse;
}

div#leftgrid table tbody {
    width: 100%;
    height: 100%;
}

div#rightgrid table tbody {
    width: 100%;
    height: 100%;
}

div#leftgrid table tbody tr {
    width: 100%;
    height: <%= cellHeight %>px;
}

div#rightgrid table tbody tr {
    width: 100%;
    height: <%= cellHeight %>px;
}

div#leftgrid table tbody tr td {
    width: <%= gwidth %>px;
    height: <%= cellHeight %>px;
    border: 1px gray solid;
}

div#rightgrid table tbody tr td {
    width: <%= gwidth %>px;
    height: <%= cellHeight %>px;
    border: 1px gray solid;
}


/* content styles */

div.cover {
    height: <%= pageHeight  %>px;
}

div#tocpage {
    height: <%= pageHeight %>px;
}

div.content h1 {
    line-height: <%= 2 * lineHeight %>px;
    font-size: <%= 2 * normal %>px;
    font-weight: bold;
}

div.content h2 {
    line-height: <%= 2 * lineHeight %>px;
    font-size: <%= 1.5 * normal %>px;
    font-weight: normal;
}

div.content h3 {
    line-height: <%= lineHeight %>px;
    font-size: <%= normal %>px;
    font-weight: bold;
}

div.content h4 {
    line-height: <%= lineHeight %>px;
    font-size: <%= normal %>px;
    font-weight: normal;
}

div.content h5 {
    line-height: <%= lineHeight %>px;
    font-size: <%= normal %>px;
    font-style: italic;
    font-weight: normal;
}

div.content h6 {
    line-height: <%= lineHeight %>px;
    font-size: <%= normal %>px;
    font-style: oblique;
    font-weight: normal;
}

div.content p {
    font-size: <%= normal %>px;
    line-height: <%= lineHeight %>px;
    vertical-align: text-bottom;
    margin-bottom:  <%= lineHeight %>px;
}

div.content ul {
    margin-left: 10px;
    margin-top: 0px;
    margin-bottom: 0px;
    line-height: <%= lineHeight %>px;
    font-size: <%= normal %>px;
    font-style: normal;
    font-weight: normal;
}

div.content ol {
    margin-left: 20px;
    margin-top: 0px;
    margin-bottom: 0px;
    line-height: <%= lineHeight %>px;
    font-size: <%= normal %>px;
    font-style: normal;
    font-weight: normal;
}

div.content ul li {
    line-height: <%= lineHeight %>px;
    font-size: <%= normal %>px;
    font-style: normal;
    font-weight: normal;
}

div.content ol li {
    line-height: <%= lineHeight %>px;
    font-size: <%= normal %>px;
    font-style: normal;
    font-weight: normal;
}


/* cover */

.cover {
    position: relative;
}

/* cover: center */

#cover-center-u {
    position: absolute;
    top: 10px;
    left: 10px;
    width: 60%;
    height: <%= round(0.15 * pageHeight)  %>px;
    font-size: xx-large;
    font-weight: bold;
}

#cover-center-w {
    position: absolute;
    top:  <%= round(0.2 * pageHeight)  %>px;
    left: 0px;
    height:  <%= round(0.6 * pageHeight)  %>px;
    width: 100%;
}

#cover-center-w img {
    width: 100%;
    margin: 0 auto;
}

#cover-center-x {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40%;
    font-size: small;
}

#cover-center-x ul {
    margin-left: 0em;
}

#cover-center-x ul li {
    margin-left: 0.5em;
}

#cover-center-y {
    position: absolute;
    top:  <%= round(0.8 * pageHeight)  %>px;
    left: 10px;
    width: 40%;
    font-size: small;
}

#cover-center-y ul {
    margin-left: 1em;
}

#cover-center-y ul li {
    margin-left: 0.5em;
}

#cover-center-z {
    position: absolute;
    top:  <%= round(0.8 * pageHeight)  %>px;
    right: 10px;
    width: 40%;
    font-size: small;
}

#cover-center-z ul {
    margin-left: 0em;
}

#cover-center-z ul li {
    margin-left: 0.5em;
}

/* cover: full */

#cover-full-u {
    position: absolute;
    top: 10px;
    left: 10px;
    width: 60%;
    font-size: xx-large;
    font-weight: bold;
    z-index: 10;
}

#cover-full-w {
    position: absolute;
    top:  0px;
    left: 0px;
    height:  <%= pageHeight %>px;
    width: 100%;
}

#cover-full-w img {
    width: 100%;
    height: 100%;
    margin: 0 auto;
}

#cover-full-x {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40%;
    font-size: small;
}

#cover-full-x ul {
    margin-left: 0em;
}

#cover-full-x ul li {
    margin-left: 0.5em;
}

#cover-full-y {
    position: absolute;
    top:  <%= round(0.8 * pageHeight)  %>px;
    left: 10px;
    width: 40%;
    font-size: small;
}

#cover-full-y ul {
    margin-left: 1em;
}

#cover-full-y ul li {
    margin-left: 0.5em;
}

#cover-full-z {
    position: absolute;
    top:  <%= round(0.8 * pageHeight)  %>px;
    right: 10px;
    width: 40%;
    font-size: small;
}

#cover-full-z ul {
    margin-left: 0em;
}

#cover-full-z ul li {
    margin-left: 0.5em;
}

/* cover: north */

#cover-north-u {
    position: absolute;
    top: 10px;
    left: 10px;
    width: 60%;
    font-size: xx-large;
    font-weight: bold;
    z-index: 1;
}

#cover-north-w {
    position: absolute;
    top:  0px;
    left: 0px;
    height:  <%= 0.6 * pageHeight %>px;
    width: 100%;
    z-index: 0;
}

#cover-north-w img {
    width: 100%;
    margin: 0 auto;
    z-index: 0;
}

#cover-north-x {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40%;
    font-size: small;
}

#cover-north-x ul {
    margin-left: 0em;
}

#cover-north-x ul li {
    margin-left: 0.5em;
}

#cover-north-y {
    position: absolute;
    top:  <%= round(0.8 * pageHeight)  %>px;
    left: 10px;
    width: 40%;
    font-size: small;
}

#cover-north-y ul {
    margin-left: 1em;
}

#cover-north-y ul li {
    margin-left: 0.5em;
}

#cover-north-z {
    position: absolute;
    top:  <%= round(0.8 * pageHeight)  %>px;
    right: 10px;
    width: 40%;
    font-size: small;
}

#cover-north-z ul {
    margin-left: 0em;
}

#cover-north-z ul li {
    margin-left: 0.5em;
}

/* cover: west */

#cover-west-v {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 10%;
    line-height: <%= 3*lineHeight %>px;
    font-size: xx-large;
    font-weight: bold;
}

#cover-west-w {
    position: absolute;
    top:  0px;
    left: 0px;
    height:  <%= pageHeight %>px;
    width: 80%;
}

#cover-west-w img {
    height: 100%;
    margin: 0;
}

#cover-west-x {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40%;
    font-size: small;
}

#cover-west-x ul {
    margin-left: 0em;
}

#cover-west-x ul li {
    margin-left: 0.5em;
}

#cover-west-y {
    position: absolute;
    top:  <%= round(0.8 * pageHeight)  %>px;
    left: 10px;
    width: 40%;
    font-size: small;
}

#cover-west-y ul {
    margin-left: 1em;
}

#cover-west-y ul li {
    margin-left: 0.5em;
}

#cover-west-z {
    position: absolute;
    top:  <%= round(0.8 * pageHeight)  %>px;
    right: 10px;
    width: 40%;
    font-size: small;
}

#cover-west-z ul {
    margin-left: 0em;
}

#cover-west-z ul li {
    margin-left: 0.5em;
}

/* thumbnails */

div.thumb {
    margin-bottom: 0px;
    border-style: solid;
    border-color: white;
    width: auto;
    background-color: transparent;
}
div.thumbinner {
    border: 1px solid #ccc;
    padding: 3px !important;
    background-color: #f9f9f9;
    font-size: 94%;
    text-align: center;
    overflow: hidden;
}
html .thumbimage {
    border: 1px solid #ccc;
}
html .thumbcaption {
    border: none;
    text-align: left;
    line-height: <%= lineHeight %>px;
    font-size: <%= small %>;
}
div.magnify {
    float: right;
    border: none !important;
    background: none !important;
}
div.magnify a, div.magnify img {
    display: block;
    border: none !important;
    background: none !important;
}

/* aligns */

.right {
    float: right;
}

.left {
    float: left;
}

.center {
    display: block;
    text-align: center;
}

.clickable {
    cursor: pointer;
}
